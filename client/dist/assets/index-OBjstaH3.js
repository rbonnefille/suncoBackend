import{_ as X,j as d,a as U,W as N,O as Y,P as Z,b as r,o as i,l as o,R as H,g as s,S as M,d as l,f as h,X as q,F as A,e as G,t as J,n as u,v as D,c as B,h as $,Y as L,T as f,Z as K,$ as I,a0 as T,a1 as b,a2 as y,a3 as Q,i as ee,a4 as w,a5 as te,a6 as le,a7 as F}from"./index-DJ2DGYK_.js";import{P as V}from"./PulseLoader-AWdKkORt.js";import{i as z}from"./integrationIcons-rOLHvuPs.js";import{_ as oe,a as C}from"./VError-DLhQBmt_.js";import{V as c}from"./VSelect-CfiJvfNI.js";import{V as P}from"./VButton-BV5m6Noj.js";import{b as O}from"./route-block-B_A1xBdJ.js";import{r as ae}from"./ChevronDownIcon-C-r7QmZ-.js";const se={class:"container"},ne={key:0},ie={key:1,class:"text-center"},de={key:2},re={class:"grid"},ue={class:"col-12"},ce={class:"surface-card border-round shadow-1 mt-2"},me={class:"surface-100 p-2 border-round-top flex align-items-center gap-2"},pe=["src","alt"],ve={class:"list-group list-group-flush"},ge={class:"list-group-item flex align-items-center gap-2"},he=["id","onUpdate:modelValue","onChange"],fe=["for"],be={class:"list-group-item"},ye={class:"list-group-item"},Se={class:"mt-4 grid"},_e={class:"col-12"},xe={class:"col-12"},Ie={class:"surface-card border-round shadow-1 mt-2"},we={class:"list-group list-group-flush"},Ve={class:"list-group-item"},Ce={class:"list-group-item"},ke={class:"col-12 mt-4 mb-5"},Ee={class:"cursor-pointer"},Ue={class:"flex flex-column gap-2 mt-2"},Ne={class:"flex flex-column gap-2 mt-2"},He={class:"mt-2 flex align-items-center gap-2"},Me={class:"mt-2"},De={class:"flex flex-column gap-2 mt-2"},R={__name:"index",setup(Be){const S=d(""),m=d(""),_=d(!1),p=d(""),x=d(10),v=d(!0),k=U(()=>S.value.trim().replace(/\s+/g,"-")),E=U(()=>k.value!==""&&m.value.trim()!==""&&p.value.trim()!==""),W=()=>{E&&le(k.value,m.value,_.value,p.value,x.value)},j=n=>f.value.filter(t=>t.id!==n),g=async(n,t,e,a)=>{te(n,t,e,a)};return N(y,(n,t)=>{t!==null&&F(I.value.enabled,n)}),N(b,(n,t)=>{t!==null&&F(n==="Enabled",I.value.defaultSwitchboardIntegrationId)}),Y(async()=>{await Z()}),(n,t)=>(i(),r("div",se,[o(H)?(i(),r("div",ne,[s(oe,{errorMessage:o(H)},null,8,["errorMessage"])])):o(M)?(i(),r("div",ie,[s(V,{loading:o(M),color:"#355E34",size:"20px"},null,8,["loading"])])):(i(),r("div",de,[l("div",re,[l("div",ue,[l("h3",null,[t[8]||(t[8]=h(" Switchboard Integrations ",-1)),s(V,{loading:o(q),color:"#355E34",size:"15px",style:{display:"inline-block"}},null,8,["loading"])])]),(i(!0),r(A,null,G(o(f),e=>(i(),r("div",{key:e.id,class:"col-3"},[l("div",ce,[l("div",me,[l("span",null,[l("img",{src:o(z)[e.integrationType]||o(z).default,alt:e.type,width:"20",height:"20",class:"vertical-align-middle"},null,8,pe),h(" "+J(e.name),1)])]),l("ul",ve,[s(C,{label:"id",value:e.id},null,8,["value"]),s(C,{label:"integrationId",value:e.integrationId},null,8,["value"]),l("div",ge,[u(l("input",{class:"p-checkbox-input",type:"checkbox",id:e.name,"onUpdate:modelValue":a=>e.deliverStandbyEvents=a,onChange:a=>g(e.id,e.nextSwitchboardIntegrationId,e.messageHistoryCount,e.deliverStandbyEvents)},null,40,he),[[D,e.deliverStandbyEvents]]),l("label",{class:"font-medium text-sm",for:e.name},"Deliver Standby Events",8,fe)]),l("ul",be,[s(c,{modelValue:o(L)[e.id],"onUpdate:modelValue":[a=>o(L)[e.id]=a,a=>g(e.id,a,e.messageHistoryCount,e.deliverStandbyEvents)],label:"Change Next Switchboard Integration","option-hint":"Select an integration",options:j(e.id),class:"mb-2"},null,8,["modelValue","onUpdate:modelValue","options"]),e.nextSwitchboardIntegrationId?(i(),B(P,{key:0,text:"Set next to null",type:"submit",onClick:a=>g(e.id,null,e.messageHistoryCount,e.deliverStandbyEvents)},null,8,["onClick"])):$("",!0)]),l("ul",ye,[s(c,{modelValue:e.messageHistoryCount,"onUpdate:modelValue":[a=>e.messageHistoryCount=a,a=>g(e.id,e.nextSwitchboardIntegrationId,a,e.deliverStandbyEvents)],label:"messageHistoryCount",value:e.messageHistoryCount,"option-hint":"Message count history number",options:[0,1,2,3,4,5,6,7,8,9,10]},null,8,["modelValue","onUpdate:modelValue","value"])])])])]))),128))]),l("div",Se,[l("div",_e,[l("h3",null,[t[9]||(t[9]=h(" Switchboards ",-1)),s(V,{loading:o(K),color:"#355E34",size:"15px",style:{display:"inline-block"}},null,8,["loading"])])]),l("div",xe,[l("div",Ie,[t[10]||(t[10]=l("div",{class:"surface-100 p-2 border-round-top"},"Switchboard",-1)),l("ul",we,[s(C,{label:"id",value:o(I).id},null,8,["value"]),l("ul",Ve,[s(c,{modelValue:o(b),"onUpdate:modelValue":t[0]||(t[0]=e=>T(b)?b.value=e:null),label:"Change Switchboard State","option-hint":"Select a state",options:["Enabled","Disabled"]},null,8,["modelValue"])]),l("ul",Ce,[s(c,{modelValue:o(y),"onUpdate:modelValue":t[1]||(t[1]=e=>T(y)?y.value=e:null),label:"Change default Switchboard Integration","option-hint":"Select an integration",options:o(f)},null,8,["modelValue","options"])])])])]),l("div",ke,[l("h4",{class:"mb-2 collapsable",role:"button",onClick:t[2]||(t[2]=e=>v.value=!v.value)},[l("span",Ee,[t[11]||(t[11]=h(" Create New Switchboard Integration ",-1)),v.value?(i(),B(o(ae),{key:0,style:{height:"24px",width:"24px"}})):$("",!0)])]),u(l("div",null,[l("form",{onSubmit:ee(W,["prevent"])},[l("div",Ue,[t[12]||(t[12]=l("label",{for:"integrationName"},'Integration Name (must contain only alphanumeric characters and "-", and "_")',-1)),u(l("input",{type:"text",class:"p-inputtext",id:"integrationName","onUpdate:modelValue":t[3]||(t[3]=e=>S.value=e)},null,512),[[w,S.value]])]),l("div",Ne,[t[13]||(t[13]=l("label",{for:"integrationId"},"Integration ID of your Webhook",-1)),u(l("input",{type:"text",class:"p-inputtext",id:"integrationId","onUpdate:modelValue":t[4]||(t[4]=e=>m.value=e)},null,512),[[w,m.value]])]),l("div",He,[u(l("input",{type:"checkbox",class:"p-checkbox-input",id:"deliverStandbyEvents","onUpdate:modelValue":t[5]||(t[5]=e=>_.value=e)},null,512),[[D,_.value]]),t[14]||(t[14]=l("label",{class:"font-medium text-sm",for:"deliverStandbyEvents"},"Deliver Standby Events",-1))]),l("div",Me,[s(c,{modelValue:p.value,"onUpdate:modelValue":t[6]||(t[6]=e=>p.value=e),label:"Next Switchboard Integration ID","option-hint":"Select an integration",options:o(f)},null,8,["modelValue","options"])]),l("div",De,[t[15]||(t[15]=l("label",{for:"messageHistoryCount"},"Message History Count",-1)),u(l("input",{type:"number",class:"p-inputtext mb-2",id:"messageHistoryCount","onUpdate:modelValue":t[7]||(t[7]=e=>x.value=e)},null,512),[[w,x.value]]),s(P,{disabled:!E.value,text:"Create integration",type:"submit"},null,8,["disabled"])])],32)],512),[[Q,!v.value]])])])]))]))}};typeof O=="function"&&O(R);const We=X(R,[["__scopeId","data-v-54b40585"]]);export{We as default};
