import{b as t,o as e,h as d,d as n,_ as F,ab as j,j as D,a as E,O,ac as T,l,R as S,g as r,c as g,ad as c,S as s,f,F as i,e as p,ae as A,t as m,af as I,n as R,a3 as V,ag as U,ah as G}from"./index-DJ2DGYK_.js";import{_ as q,a as o}from"./VError-DLhQBmt_.js";import{V as H}from"./VButton-BV5m6Noj.js";import{i as $}from"./integrationIcons-rOLHvuPs.js";import{b as L}from"./route-block-B_A1xBdJ.js";import{r as M}from"./ChevronDownIcon-C-r7QmZ-.js";const J={class:"list-group-item"},P={key:0,class:"placeholder-glow"},w={__name:"VSkeleton",props:{loading:{type:Boolean,default:!1}},setup(C){return(x,h)=>(e(),t("li",J,[C.loading?(e(),t("div",P,[...h[0]||(h[0]=[n("span",{class:"placeholder w-full placeholder-sm border-round"},null,-1)])])):d("",!0)]))}},Q={class:"mb-4 container"},W={key:0},X={key:1},Y={class:"grid"},Z={class:"col-6"},K={class:"surface-card border-round shadow-1 p-3"},ll={class:"list-group list-group-flush"},el={key:5,class:"list-group-item"},al={key:6,class:"list-group-item"},tl={key:7,class:"list-group-item"},sl={class:"col-6"},ol={key:0,class:"surface-card border-round shadow-1 p-3"},nl={key:0,class:"list-group list-group-flush"},ul={class:"surface-card border-round shadow-1 p-3"},dl={class:"surface-100 font-bold p-2 border-round-top flex align-items-center gap-2"},rl=["src","alt"],il={class:"list-group list-group-flush"},cl={class:"cursor-pointer"},gl={class:"grid"},pl={class:"surface-card border-round shadow-1 p-3"},vl={class:"surface-100 font-bold p-2 border-round-top"},bl={class:"list-group list-group-flush"},_l={class:"list-group-item"},fl={class:"cursor-pointer"},hl={class:"grid"},yl={key:0,class:"surface-card border-round shadow-1 p-3"},kl={class:"surface-100 font-bold p-2 border-round-top"},ml={class:"list-group list-group-flush"},wl={key:1,class:"list-group-item"},xl={key:2,class:"list-group-item"},N={__name:"[id]",setup(C){const x=j(),h=D(!0),k=D(!0),z=()=>{try{G(x.params.id)}catch(y){console.error(y)}},B=E(()=>U.value?.slice(0).sort((y,u)=>y.lastUpdatedAt>u.lastUpdatedAt?-1:y.lastUpdatedAt<u.lastUpdatedAt?1:0));return O(async()=>{await T(x.params.id)}),(y,u)=>(e(),t("div",Q,[u[10]||(u[10]=n("h2",{class:"mt-3"},"User data",-1)),l(S)?(e(),t("div",W,[r(q,{class:"mt-2",errorMessage:l(S)},null,8,["errorMessage"])])):(e(),t("div",X,[n("div",Y,[n("div",Z,[n("div",K,[u[5]||(u[5]=n("div",{class:"surface-100 font-bold p-2 border-round-top"},"User",-1)),n("ul",ll,[l(c)?.id?(e(),g(o,{key:0,loading:l(s),label:"id",value:l(c)?.id},null,8,["loading","value"])):d("",!0),l(c)?.externalId?(e(),g(o,{key:1,loading:l(s),label:"External id",value:l(c)?.externalId},null,8,["loading","value"])):d("",!0),l(c)?.zendeskId?(e(),g(o,{key:2,loading:l(s),label:"zendeskId",value:l(c)?.zendeskId},null,8,["loading","value"])):d("",!0),l(c)?.signedUpAt?(e(),g(o,{key:3,loading:l(s),label:"signedUpAt",value:l(c)?.signedUpAt},null,8,["loading","value"])):d("",!0),l(c)?.toBeRetained?(e(),g(o,{key:4,loading:l(s),label:"toBeRetained",value:l(c)?.toBeRetained},null,8,["loading","value"])):d("",!0),r(o,{loading:l(s),label:"authenticated",value:l(c)?.authenticated},null,8,["loading","value"]),Object.keys(l(c)?.profile||{}).length>0?(e(),t("ul",el,[u[2]||(u[2]=f(" profile: ",-1)),l(s)?(e(),t(i,{key:0},p(3,a=>r(w,{key:a,loading:l(s)},null,8,["loading"])),64)):(e(!0),t(i,{key:1},p(l(c)?.profile,(a,v)=>(e(),g(o,{key:v,label:v,value:a},null,8,["label","value"]))),128))])):d("",!0),l(c)?.metadata?(e(),t("ul",al,[u[3]||(u[3]=f(" metadata: ",-1)),l(s)?(e(),t(i,{key:0},p(3,a=>r(w,{key:a,loading:l(s)},null,8,["loading"])),64)):(e(!0),t(i,{key:1},p(l(c)?.metadata,(a,v)=>(e(),g(o,{key:v,label:v,value:a},null,8,["label","value"]))),128))])):d("",!0),l(c)?.identities.length>0?(e(),t("ul",tl,[u[4]||(u[4]=f(" identities: ",-1)),l(s)?(e(),t(i,{key:0},p(3,a=>r(w,{key:a,loading:l(s)},null,8,["loading"])),64)):(e(!0),t(i,{key:1},p(l(c)?.identities,(a,v)=>(e(),t(i,{key:v},[(e(!0),t(i,null,p(a,(_,b)=>(e(),g(o,{key:_.value,label:b,value:_},null,8,["label","value"]))),128))],64))),128))])):d("",!0)])])]),n("div",sl,[l(A)?(e(!0),t(i,{key:1},p(l(A),(a,v)=>(e(),t("div",{key:v,class:"mb-2"},[n("div",ul,[n("div",dl,[n("span",null,[n("img",{src:l($)[a.type]||l($).default,alt:a.type,width:"20",height:"20",class:"vertical-align-middle"},null,8,rl)]),f(" "+m(a.type)+" client ",1)]),n("ul",il,[(e(!0),t(i,null,p(a,(_,b)=>(e(),g(o,{key:b,loading:l(s),label:b,value:_},null,8,["loading","label","value"]))),128))])])]))),128)):(e(),t("div",ol,[u[6]||(u[6]=n("div",{class:"surface-100 font-bold p-2 border-round-top"},"Clients",-1)),l(s)?(e(),t("ul",nl,[(e(),t(i,null,p(3,a=>r(w,{key:a,loading:l(s)},null,8,["loading"])),64))])):d("",!0)]))])])])),l(I)?.length>0?(e(),t(i,{key:2},[n("h2",{class:"mt-3 collapsable",role:"button",onClick:u[0]||(u[0]=a=>h.value=!h.value)},[n("span",cl,[f(m(l(I)?.length)+" Devices ",1),h.value?(e(),g(l(M),{key:0,style:{height:"24px",width:"24px"}})):d("",!0)])]),R(n("div",gl,[(e(!0),t(i,null,p(l(I),(a,v)=>(e(),t("div",{key:v,class:"col-3"},[n("div",pl,[n("div",vl," Device "+m(v),1),n("ul",bl,[r(o,{loading:l(s),label:"device id",value:a?.id},null,8,["loading","value"]),r(o,{loading:l(s),label:"guid",value:a?.guid},null,8,["loading","value"]),r(o,{loading:l(s),label:"clientId",value:a?.clientId},null,8,["loading","value"]),r(o,{loading:l(s),label:"integrationId",value:a?.integrationId},null,8,["loading","value"]),r(o,{loading:l(s),label:"type",value:a?.type},null,8,["loading","value"]),r(o,{loading:l(s),label:"status",value:a?.status},null,8,["loading","value"]),n("ul",_l,[u[7]||(u[7]=f(" info: ",-1)),(e(!0),t(i,null,p(a?.info,(_,b)=>(e(),g(o,{key:b,loading:l(s),label:b,value:_},null,8,["loading","label","value"]))),128))]),r(o,{loading:l(s),label:"lastSeen",value:a?.lastSeen},null,8,["loading","value"])])])]))),128))],512),[[V,!h.value]])],64)):d("",!0),l(U)?.length>0?(e(),t(i,{key:3},[n("h2",{class:"mt-3 collapsable",role:"button",onClick:u[1]||(u[1]=a=>k.value=!k.value)},[n("span",fl,[f(m(B.value?.length)+" Conversations ",1),k.value?(e(),g(l(M),{key:0,style:{height:"24px",width:"24px"}})):d("",!0)])]),l(U)?.length>=2?(e(),g(H,{key:0,onClick:z,type:"button",class:"p-button-danger",text:"Delete all conversations not associated with a ticket"})):d("",!0),R(n("div",hl,[(e(!0),t(i,null,p(B.value,(a,v)=>(e(),t("div",{key:v,class:"col-3"},[a?(e(),t("div",yl,[n("div",kl,[r(o,{loading:l(s),label:"id",value:a.id},null,8,["loading","value"])]),n("ul",ml,[r(o,{loading:l(s),label:"type",value:a.type,"class-name":[{"font-bold text-success":a.type==="sdkGroup"}]},null,8,["loading","value","class-name"]),r(o,{loading:l(s),label:"isDefault",value:a.isDefault,"class-name":[{"font-bold text-success":a.isDefault}]},null,8,["loading","value","class-name"]),a.brandId?(e(),g(o,{key:0,loading:l(s),label:"brandId",value:a.brandId},null,8,["loading","value"])):d("",!0),a.metadata?(e(),t("ul",wl,[u[8]||(u[8]=f(" metadata: ",-1)),(e(!0),t(i,null,p(a.metadata,(_,b)=>(e(),g(o,{key:b,loading:l(s),label:b,value:_},null,8,["loading","label","value"]))),128))])):d("",!0),a.activeSwitchboardIntegration?(e(),t("ul",xl,[u[9]||(u[9]=f(" activeSwitchboardIntegration: ",-1)),(e(!0),t(i,null,p(a.activeSwitchboardIntegration,(_,b)=>(e(),g(o,{key:b,loading:l(s),label:b,value:_},null,8,["loading","label","value"]))),128))])):d("",!0),r(o,{loading:l(s),label:"businessLastRead",value:a.businessLastRead},null,8,["loading","value"]),r(o,{loading:l(s),label:"lastUpdatedAt",value:a.lastUpdatedAt},null,8,["loading","value"])])])):d("",!0)]))),128))],512),[[V,!k.value]])],64)):d("",!0)]))}};typeof L=="function"&&L(N);const Al=F(N,[["__scopeId","data-v-28140a46"]]);export{Al as default};
