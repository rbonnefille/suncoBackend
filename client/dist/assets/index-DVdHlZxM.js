import{b as m,o,g as r,h as w,i as C,F as g,_ as ee,u as _,s as E,j as v,k as te,a as T,l as i,d as a,t as F,e as B,n as se,v as oe,c as f,p as I,q as ne,x as ae,y as le,z as ie,A as re,B as ce,r as ue,w as U,f as $,m as de,C as me,D as pe,E as ge,G as fe,H as R,I as be,J as ye,K as q,L as xe,M as ke,N as we}from"./index-DJ2DGYK_.js";import{V as y}from"./VButton-BV5m6Noj.js";import{_ as he,V as ve}from"./VLabel-BY0Jjxm_.js";import{s as Fe}from"./suncoRoutes-B6ocWN35.js";import{V as L}from"./VSelect-CfiJvfNI.js";import{b as N}from"./route-block-B_A1xBdJ.js";const _e={__name:"VFormActions",props:{isFormInvalid:{type:Boolean,required:!0},authenticated:{type:Boolean,required:!0},submitForm:{type:Function,required:!0},resetForm:{type:Function,required:!0},michaelScottForm:{type:Function,required:!0},requestJwtToDisplay:{type:Function,required:!0}},setup(e){return(l,n)=>(o(),m(g,null,[r(y,{text:"Submit",type:"submit",class:"formBtn",disabled:e.isFormInvalid,onClick:C(e.submitForm,["prevent"])},null,8,["disabled","onClick"]),r(y,{text:"Reset",type:"reset",class:"formBtn",onClick:e.resetForm},null,8,["onClick"]),e.authenticated?w("",!0):(o(),m(g,{key:0},[r(y,{text:"Log Michael Scott",type:"submit",class:"formBtn",onClick:C(e.michaelScottForm,["prevent"])},null,8,["onClick"]),r(y,{text:"JWT to clipboard",type:"submit",class:"formBtn",onClick:C(e.requestJwtToDisplay,["prevent"])},null,8,["onClick"])],64))],64))}},Se={key:0,id:"suncoData",class:"flex flex-column gap-3"},Ce={class:"flex flex-wrap justify-content-center gap-3"},Ve={class:"flex align-items-end pb-2"},ze={class:"flex align-items-center gap-2"},Me={class:"flex justify-content-center mt-3"},Ee={class:"flex flex-wrap gap-2"},Te={__name:"LoginForm",props:{formMessageTitle:{type:String,default:"Log back in to sync your past conversations"}},setup(e){const l=_(),{authenticated:n}=E(l),u=v(null),{copy:t,copied:d,isSupported:x}=te({source:u}),k=()=>{s.value.external_id=ce()},h=[{id:"external_id",name:"User external_id",type:"text",placeholder:"jane-doe"},{id:"name",name:"User name",type:"text",placeholder:"Jane Doe"},{id:"email",name:"Email address",type:"email",placeholder:"jane-doe@example.com"}],s=v({external_id:null,name:null,email:null,emailVerified:!1}),S=T(()=>!s.value.external_id||!s.value.name||!s.value.email),A=async()=>{const{external_id:b}=s.value;if(S.value)return;const p=Object.assign({},s.value),{token:c}=await I(p);ae(b,c),le(p),ie(b,c),W(),l.changeAuthenticationStatus(!0,b),re(l.titleConnectedAs)},W=()=>{s.value={external_id:null,name:null,email:null,emailVerified:!1}},Y=()=>{s.value.external_id="m-scott",s.value.email="michael-scott@example.com",s.value.name="Michael Scott",s.value.emailVerified=!0,A()},Q=async()=>{if(S.value)return;const b=Object.assign({},s.value),{token:p}=await I(b);console.log("Token requested:",p),x&&(t(p),d&&ne("JWT copied to clipboard ðŸ“‹",5e3))};return(b,p)=>i(n)?w("",!0):(o(),m("form",Se,[a("h4",null,F(e.formMessageTitle),1),a("div",Ce,[(o(),m(g,null,B(h,c=>a("div",{key:c.id,class:"flex flex-column"},[r(he,{id:c.id,name:c.name},null,8,["id","name"]),r(ve,{id:c.id,modelValue:s.value[c.id],"onUpdate:modelValue":X=>s.value[c.id]=X,name:c.name,type:c.type,placeholder:c.placeholder},null,8,["id","modelValue","onUpdate:modelValue","name","type","placeholder"])])),64)),a("div",Ve,[a("div",ze,[se(a("input",{id:"emailVerified",class:"p-checkbox-input",type:"checkbox","onUpdate:modelValue":p[0]||(p[0]=c=>s.value.emailVerified=c)},null,512),[[oe,s.value.emailVerified]]),p[1]||(p[1]=a("label",{class:"font-medium text-sm",for:"emailVerified"},"Email verified?",-1))])])]),a("div",Me,[a("div",Ee,[r(_e,{isFormInvalid:S.value,authenticated:i(n),submitForm:A,resetForm:W,michaelScottForm:Y,requestJwtToDisplay:Q},null,8,["isFormInvalid","authenticated"]),i(n)?w("",!0):(o(),f(y,{key:0,text:"Generate external_id",type:"button",class:"formBtn",onClick:k}))])])]))}},Be=ee(Te,[["__scopeId","data-v-3445a109"]]),De={class:"mb-3 flex flex-wrap gap-2 justify-content-center"},Ae={__name:"SuncoRoutes",setup(e){const l=_(),{authenticated:n,external_id:u}=E(l),t=T(()=>Fe.filter(d=>d.to!=="/dashboard"));return(d,x)=>{const k=ue("RouterLink");return o(),m(g,null,[x[0]||(x[0]=a("h4",{class:"mt-3"},"App routes â¤µï¸",-1)),a("div",De,[i(n)?(o(),f(k,{key:0,id:"getUser",target:"_blank",to:`/sunco/users/${i(u)}`,class:"routes"},{default:U(()=>[$("Get User data: "+F(i(u)),1)]),_:1},8,["to"])):w("",!0),(o(!0),m(g,null,B(t.value,(h,s)=>(o(),f(k,de({key:s,to:h.to,class:"routes"},{ref_for:!0},d.$attrs),{default:U(()=>[$(F(h.text),1)]),_:2},1040,["to"]))),128))])],64)}}},We=["aria-label"],V={__name:"VButtonGroup",props:{label:{type:String,required:!0},buttons:{type:Object,required:!0},className:{type:String,default:""}},setup(e){return(l,n)=>(o(),m("div",{class:"flex flex-wrap gap-1",role:"group","aria-label":e.label},[(o(!0),m(g,null,B(e.buttons,(u,t)=>(o(),f(y,{key:t,class:me(e.className),text:u.text,type:u.type,onClick:u.click},null,8,["class","text","type","onClick"]))),128))],8,We))}},J={__name:"VMetadataDisplay",props:{metadataCode:{type:String,required:!0}},setup(e){return(l,n)=>(o(),m("div",null,[n[0]||(n[0]=a("h4",{class:"mt-5"},"Metadata were set with",-1)),a("div",null,[a("code",null,F(e.metadataCode),1)])]))}},D=_(),{changeAuthenticationStatus:G,loginWidgets:O}=D,M=v(!1),P=v(!1),j=document.querySelector("html"),Ie=e=>{window.zE("messenger:set","locale",`${e}`)},Ue=e=>{zE("messenger:set","cookies",`${e}`)},H=pe({onChanged(e){e?j.setAttribute("data-bs-theme","dark"):j.setAttribute("data-bs-theme","light")}}),$e=ye(H),qe={primary:"#d1f470",onPrimary:"#000000",message:"#355e34",onMessage:"#FFFFFF",action:"#d1f470",onAction:"#000000",businessMessage:"#16140c",onBusinessMessage:"#FFFFFF",background:"#2b2b2bff",onBackground:"#FFFFFF",error:"#CF6679",onError:"#000000",notify:"#d1f470",onNotify:"#000000",onSecondaryAction:"#FFFFFF"},Le={primary:"#000000",onPrimary:"#ffffffff",message:"rgb(17, 17, 13)",onMessage:"#FFFFFF",action:"#d1f470",onAction:"#000000",businessMessage:"rgb(244, 246, 248)",onBusinessMessage:"#000000",background:"#FFFFFF",onBackground:"#000000A6",error:"#CF6679",onError:"#000000",notify:"#d1f470",onNotify:"#000000",onSecondaryAction:"#000000"},Ne=()=>{$e(),H.value?window.zE("messenger:set","customization",{theme:qe}):window.zE("messenger:set","customization",{theme:Le})},{token:Z,external_id:K}=ge(),Je={clearStorage:{text:"Clear Storage",type:"button",click(){be()}}},je={openSunCo:{text:"Open",type:"button",click(){window.Smooch.open()}},closeSunCo:{text:"Close",type:"button",click(){window.Smooch.close()}},loginSunco:{text:"Login",type:"button",click(){Z&&K?O("sunco"):R("No JWT in sessionStorage. Please login via the form",1500)}},logoutSunco:{text:"Logout",type:"button",click(){window.Smooch.logout(),window.Smooch.close(),D.$reset(),G(!1)}},sendImage:{text:"Send Image",type:"button",click(){window.Smooch.sendMessage({type:"image",mediaUrl:fe()},Smooch.getDisplayedConversation().id)}},docs:{text:"Dev Docs",type:"button",click(){window.open("https://github.com/zendesk/sunshine-conversations-web","_blank")}}},z={openMessaging:{text:"Open",type:"button",click(){window.zE("messenger","open")}},closeMessaging:{text:"Close",type:"button",click(){window.zE("messenger","close")}},showMessaging:{text:"Show",type:"button",click(){window.zE("messenger","show")}},hideMessaging:{text:"Hide",type:"button",click(){window.zE("messenger","hide")}},loginMessaging:{text:"Login",type:"button",click(){Z&&K?O("zendesk"):R("No JWT in sessionStorage. Please login via the form",1500)}},logoutMessaging:{text:"Logout",type:"button",click(){window.zE("messenger","logoutUser"),D.$reset(),M.value=!1,G(!1),window.zE("messenger","close")}},setMetadata:{text:"Set Metadata",type:"button",code:`window.zE('messenger:set', 'conversationFields', [{ id: 17826865089553, value: 'test'}])

window.zE("messenger:set", "conversationTags", ["sales","computer_accessories",]);`,click(){window.zE("messenger:set","conversationFields",[{id:17826865089553,value:"test"}]),window.zE("messenger:set","conversationTags",["sales","computer_accessories"]),M.value=!0}},setCustomerMetadata:{text:"Set Customer Metadata",type:"button",code:"window.zE('messenger:set', 'conversationFields', [{ id: 26752975385105, value: '12837123'}])",click(){window.zE("messenger:set","conversationFields",[{id:26752975385105,value:"12837123"}]),P.value=!0}},resetWidget:{text:"Reset Widget",type:"button",click(){window.zE("messenger","resetWidget",function(){console.log("You have reset the messaging Web Widget")})}},callUs:{text:"Call us",type:"button",click(){window.zE("messenger:open","voice","34b969870a3c45e39fc19a2069a9acda")}},customization:{text:"Customization - Dark Theme",type:"button",click(){Ne()}},docs:{text:"Dev Docs",type:"button",click(){window.open("https://developer.zendesk.com/api-reference/widget-messaging/web/core/","_blank")}}},Re={__name:"WidgetButtons",setup(e){const l=q({selected:"en",options:["en","fr","de","es","nl"]}),n=q({selected:"all",options:["all","none","functional"]});return(u,t)=>(o(),m(g,null,[t[2]||(t[2]=a("h4",{class:"mt-4"},"SunCo Web",-1)),r(V,{label:"SunCo Actions",buttons:i(je),className:"widgetBtn"},null,8,["buttons"]),t[3]||(t[3]=a("h4",{class:"mt-4"},"Zendesk Web",-1)),r(V,{label:"Zendesk Actions",buttons:i(z),className:"widgetBtn"},null,8,["buttons"]),r(L,{optionHint:"Change Cookie Consent",modelValue:n.selected,"onUpdate:modelValue":[t[0]||(t[0]=d=>n.selected=d),i(Ue)],options:n.options,class:"w-auto inline-flex mt-2 border-round-xl mx-2"},null,8,["modelValue","options","onUpdate:modelValue"]),r(L,{optionHint:"Select locale",modelValue:l.selected,"onUpdate:modelValue":[t[1]||(t[1]=d=>l.selected=d),i(Ie)],options:l.options,class:"w-auto inline-flex mt-2 border-round-xl mx-2"},null,8,["modelValue","options","onUpdate:modelValue"]),t[4]||(t[4]=a("h4",{class:"mt-2"},"Tools",-1)),r(V,{label:"Tools Actions",buttons:i(Je),className:"toolsBtn"},null,8,["buttons"]),i(M)?(o(),f(J,{key:0,metadataCode:i(z).setMetadata.code},null,8,["metadataCode"])):i(P)?(o(),f(J,{key:1,metadataCode:i(z).setCustomerMetadata.code},null,8,["metadataCode"])):w("",!0)],64))}},Ge={class:"container text-center"},Oe="Log back in to sync your past conversations",Pe={__name:"Dashboard",setup(e){const l=_(),{loginWidgets:n}=l,{authenticated:u,connectedAs:t}=E(l),d=T(()=>u?t:Oe);return xe(async()=>{document.getElementById("web-messenger-container")||ke(),document.getElementById("ze-snippet")||we("ze-snippet","b9b176ae-c123-40a2-b21d-98632fc01aff"),n()}),(x,k)=>(o(),m("div",Ge,[r(Be,{"form-message-title":d.value},null,8,["form-message-title"]),r(Re),r(Ae)]))}},He={__name:"index",setup(e){return(l,n)=>(o(),f(Pe))}};typeof N=="function"&&N(He);export{He as default};
